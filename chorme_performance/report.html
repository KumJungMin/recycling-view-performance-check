<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Virtual Scroll Performance Report</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Chart.js DataLabels Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>

    <style>
      body {
        font-family: system-ui, sans-serif;
        background: #fafafa;
        margin: 40px;
      }
      h1 { text-align: center; }
      section { margin-top: 40px; }
      canvas {
        max-width: 800px;
        margin: 0 auto;
        display: block;
      }
      table {
        width: 90%;
        margin: 40px auto;
        border-collapse: collapse;
      }
      th, td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: center;
      }
      th { background: #f3f3f3; }
    </style>
  </head>

  <body>
    <h1>Virtual Scroll Performance Report</h1>
    <p style="text-align:center;">Ï∏°Ï†ï ÏãúÎÇòÎ¶¨Ïò§: ÌéòÏù¥ÏßÄ Î°úÎìú ‚Üí Ïä§ÌÅ¨Î°§ ÎèôÏûë (Full vs Virtual Scroll)</p>
    <p style="text-align:center;">ÎÇ†Ïßú: <span id="date"></span></p>

    <!-- (1) Layout / Paint -->
    <section>
      <h2>1Ô∏è‚É£ Layout / Paint Time</h2>
      <canvas id="layoutPaintChart"></canvas>
    </section>

    <!-- (2) GPU / FPS -->
    <section>
      <h2>2Ô∏è‚É£ GPU Memory / FPS</h2>
      <canvas id="gpuFpsChart"></canvas>
    </section>

    <!-- (3) Frame & Layout -->
    <section>
      <h2>3Ô∏è‚É£ Frame & Layout Count</h2>
      <canvas id="frameLayoutChart"></canvas>
    </section>

    <!-- (4) Summary table -->
    <section>
      <h2>4Ô∏è‚É£ Summary Table</h2>
      <table>
        <thead>
          <tr>
            <th>ÏßÄÌëú</th>
            <th>Full Render</th>
            <th>Virtual Scroll</th>
            <th>Í∞úÏÑ†Ïú®</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>UpdateLayoutTree</td><td>52.3 ms</td><td>6.3 ms</td><td>‚ñ≤ 88%</td></tr>
          <tr><td>ÌèâÍ∑† Paint</td><td>3.8 ms</td><td>1.9 ms</td><td>‚ñ≤ 50%</td></tr>
          <tr><td>GPU Memory</td><td>40.9 MB</td><td>6.5 MB</td><td>‚ñ≤ 84%</td></tr>
          <tr><td>Frame Count</td><td>28</td><td>33</td><td>+18%</td></tr>
          <tr><td>FPS</td><td>~50 fps</td><td>~60 fps</td><td>+20%</td></tr>
          <tr><td>LayoutCount</td><td>3</td><td>16</td><td>(ÎπàÎèÑ ‚Üë, ÎπÑÏö© ‚Üì)</td></tr>
        </tbody>
      </table>
    </section>

    <!-- Script -->
    <script>
      document.getElementById("date").textContent = new Date().toLocaleString();

      // üîß Í≥µÌÜµ ÏòµÏÖò (Î™®Îì† Ï∞®Ìä∏Ïóê label ÌëúÏãú)
      const dataLabelOptions = {
        color: '#000',
        anchor: 'end',
        align: 'top',
        font: { weight: 'bold' },
        formatter: (value) => value
      };

      /* --------------------------
       * 1) Layout / Paint Ï∞®Ìä∏
       * -------------------------- */
      new Chart(document.getElementById('layoutPaintChart'), {
        type: 'bar',
        data: {
          labels: ['UpdateLayoutTree (ms)', 'Paint Avg (ms)'],
          datasets: [
            {
              label: 'Full Render',
              data: [52.3, 3.8],
              backgroundColor: 'rgba(255, 99, 132, 0.6)',
            },
            {
              label: 'Virtual Scroll',
              data: [6.3, 1.9],
              backgroundColor: 'rgba(75, 192, 192, 0.6)',
            },
          ],
        },
        options: {
          responsive: true,
          plugins: {
            legend: { position: 'top' },
            datalabels: dataLabelOptions
          },
        },
        plugins: [ChartDataLabels]
      });

      /* --------------------------
       * 2) GPU / FPS Ï∞®Ìä∏
       * -------------------------- */
      new Chart(document.getElementById('gpuFpsChart'), {
        type: 'bar',
        data: {
          labels: ['GPU Memory (MB)', 'FPS'],
          datasets: [
            {
              label: 'Full Render',
              data: [40.9, 50],
              backgroundColor: 'rgba(255, 159, 64, 0.6)',
            },
            {
              label: 'Virtual Scroll',
              data: [6.5, 60],
              backgroundColor: 'rgba(153, 102, 255, 0.6)',
            },
          ],
        },
        options: {
          plugins: {
            datalabels: dataLabelOptions
          }
        },
        plugins: [ChartDataLabels]
      });

      /* --------------------------
       * 3) Frame & Layout Count
       * -------------------------- */
      new Chart(document.getElementById('frameLayoutChart'), {
        type: 'bar',
        data: {
          labels: ['Frame Count', 'Layout Count'],
          datasets: [
            {
              label: 'Full Render',
              data: [28, 3],
              backgroundColor: 'rgba(255, 206, 86, 0.6)',
            },
            {
              label: 'Virtual Scroll',
              data: [33, 16],
              backgroundColor: 'rgba(54, 162, 235, 0.6)',
            },
          ],
        },
        options: {
          plugins: {
            datalabels: dataLabelOptions
          }
        },
        plugins: [ChartDataLabels]
      });
    </script>
  </body>
</html>
